<!doctype html>

<title>RBush Tree Visualization</title>
<canvas id="canvas" width="701" height="701"></canvas>

<button id="insert1">Insert 50000 one by one</button>
<button id="insert2">Insert one</button>

<script src="../rbush.js"></script>
<script src="viz.js"></script>
<script>

var N = 50000,
    data = [];

for (var i = 0; i < N; i++) {
    data[i] = randBox(1);
}

console.time('load ' + N + ' items');
var tree = rbush(10).load(data);
console.timeEnd('load ' + N + ' items');

var K = 50000;

var data2 = [];
for (var i = 0; i < K; i++) {
    data2[i] = randBox(1);
}

draw();

document.getElementById('insert1').onclick = function () {
    console.time('insert ' + K + ' items');
    for (var i = 0; i < K; i++) {
        tree.insert(data2[i]);
    }
    console.timeEnd('insert ' + K + ' items');

    draw();
}

document.getElementById('insert2').onclick = function () {
    console.log('insert 1');
    tree.insert(randBox(1)); draw();
};

</script>
