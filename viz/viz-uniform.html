<!doctype html>

<title>RBush Tree Visualization</title>
<canvas id="canvas" width="701" height="701"></canvas>

<script src="../rbush.js"></script>
<script src="viz.js"></script>
<script>

var N = 50000,
    data = [];

for (var i = 0; i < N; i++) {
    data[i] = randBox(1);
}

var tree = rbush(10).load(data);

var K = 10000;

function insertRandom() {
    console.time('insert ' + K + ' items');
    for (var i = 0; i < K; i++) {
        tree.insert(randBox(1));
    }
    console.timeEnd('insert ' + K + ' items');

    draw();
}

draw();

window.onkeypress = function () {
    console.log('press');
    tree.insert(randBox(1)); draw();
    tree._checkBBoxes();
};

</script>
