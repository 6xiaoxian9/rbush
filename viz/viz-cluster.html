<!doctype html>

<title>RBush Tree Visualization</title>
<canvas id="canvas" width="701" height="701"></canvas>

<script src="../rbush.js"></script>
<script src="viz.js"></script>
<script>

var N = 50000,
    M = 20,
    R = 100,
    data = [];

for (var i = 0; i < M; i++) {
    var cluster = randClusterPoint(R);

    for (var j = 0; j < N / M; j++) {
        data.push(randClusterBox(cluster, R, 1));
    }
}

var tree = rbush(10).load(data);

function insertRandom() {
    console.time('insert 10 items');
    for (var i = 0; i < 10; i++) {
        tree.insert(randBox(1));
    }
    console.timeEnd('insert 10 items');

    draw();
}

draw();

</script>
